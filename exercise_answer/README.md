# Cryptography Exercise

μ•”νΈν•™ μ‹¤μµ λ””λ ‰ν† λ¦¬μ…λ‹λ‹¤. Pythonμ„ μ‚¬μ©ν• RSA μ „μμ„λ…, ML-DSA μ „μμ„λ…, RSA νμΌ μ•”νΈν™”/λ³µνΈν™” μ‹¤μµμ„ ν¬ν•¨ν•©λ‹λ‹¤.

## π“‹ μ‹¤μµ λ©λ΅

### 1. RSA μ „μμ„λ… (rsa_signature.py)
RSA μ•κ³ λ¦¬μ¦μ„ μ‚¬μ©ν• λ””μ§€ν„Έ μ„λ…μ μƒμ„±κ³Ό κ²€μ¦μ„ μ‹¤μµν•©λ‹λ‹¤.

**κΈ°λ¥:**
- RSA ν‚¤ μ μƒμ„± (2048-bit)
- λ©”μ‹μ§€μ— λ€ν• λ””μ§€ν„Έ μ„λ… μƒμ„±
- μ„λ… κ²€μ¦ (μ •μƒ, λ³€μ΅°λ λ©”μ‹μ§€, λ³€μ΅°λ μ„λ…)
- ν‚¤λ¥Ό PEM νμΌλ΅ μ €μ¥

**μ‹¤ν–‰:**
```bash
# exercise λ””λ ‰ν† λ¦¬λ΅ μ΄λ™
cd exercise

# μ¤ν¬λ¦½νΈ μ‹¤ν–‰
python3 rsa_signature.py
```

**μ‚¬μ© λΌμ΄λΈλ¬λ¦¬:**
- `cryptography` (RSA, PSS padding, SHA-256)

---

### 2. ML-DSA μ „μμ„λ… (mldsa_ctypes.py)
ctypesλ¥Ό μ‚¬μ©ν•μ—¬ ML-DSA-44 (Dilithium) C λΌμ΄λΈλ¬λ¦¬λ¥Ό νΈμ¶ν•λ” μ‹¤μµμ…λ‹λ‹¤.

**κΈ°λ¥:**
- ML-DSA-44 ν‚¤ μ μƒμ„±
- λ©”μ‹μ§€μ— λ€ν• λ””μ§€ν„Έ μ„λ… μƒμ„±
- μ„λ… κ²€μ¦ (μ •μƒ, λ³€μ΅°λ λ©”μ‹μ§€, λ³€μ΅°λ μ„λ…)
- ν‚¤λ¥Ό λ°”μ΄λ„λ¦¬ νμΌλ΅ μ €μ¥

**μ‹¤ν–‰:**
```bash
# exercise λ””λ ‰ν† λ¦¬λ΅ μ΄λ™
cd exercise

# μ¤ν¬λ¦½νΈ μ‹¤ν–‰
python3 mldsa_ctypes.py
```

**μ‚¬μ© λΌμ΄λΈλ¬λ¦¬:**
- `ctypes` (C λΌμ΄λΈλ¬λ¦¬ μΈν„°νμ΄μ¤)
- ML-DSA-44 shared library (`../ML-DSA/crypto_sign/ml-dsa-44/1_clean/libmldsa44.so`)

**νλΌλ―Έν„°:**
- Public key: 1312 bytes
- Secret key: 2560 bytes
- Signature: ~2420 bytes

---

### 3. RSA νμΌ μ•”νΈν™”/λ³µνΈν™” (rsa_file_encryption.py)
ν•μ΄λΈλ¦¬λ“ μ•”νΈν™”λ¥Ό μ‚¬μ©ν• νμΌ μ•”νΈν™” λ° λ³µνΈν™”λ¥Ό μ‹¤μµν•©λ‹λ‹¤.

**κΈ°λ¥:**
- RSA ν‚¤ μ μƒμ„±
- ν•μ΄λΈλ¦¬λ“ μ•”νΈν™” (AES-256-CBC + RSA-OAEP)
  - AESλ΅ νμΌ μ•”νΈν™”
  - RSAλ΅ AES ν‚¤ μ•”νΈν™”
- νμΌ λ³µνΈν™”
- μ›λ³Έκ³Ό λ³µνΈν™”λ νμΌ λΉ„κµ

**μ‹¤ν–‰:**
```bash
# exercise λ””λ ‰ν† λ¦¬λ΅ μ΄λ™
cd exercise

# μ¤ν¬λ¦½νΈ μ‹¤ν–‰
python3 rsa_file_encryption.py
```

**μ‚¬μ© λΌμ΄λΈλ¬λ¦¬:**
- `cryptography` (RSA, AES-256-CBC, OAEP padding)

**ν•μ΄λΈλ¦¬λ“ μ•”νΈν™” λ°©μ‹:**
1. λλ¤ AES-256 ν‚¤ μƒμ„±
2. AES-CBCλ΅ νμΌ μ•”νΈν™”
3. RSA-OAEPλ΅ AES ν‚¤ μ•”νΈν™”
4. μ•”νΈν™”λ ν‚¤ + IV + μ•”νΈλ¬Έ μ €μ¥

---

## π“¦ ν•„μ ν¨ν‚¤μ§€ μ„¤μΉ

```bash
pip install cryptography
```

## π” μƒμ„±λλ” νμΌ

μ‹¤μµμ„ μ‹¤ν–‰ν•λ©΄ λ‹¤μκ³Ό κ°™μ€ νμΌλ“¤μ΄ μƒμ„±λ©λ‹λ‹¤:

### RSA μ„λ… μ‹¤μµ
- `rsa_sig_private.pem` - RSA κ°μΈν‚¤
- `rsa_sig_public.pem` - RSA κ³µκ°ν‚¤

### ML-DSA μ‹¤μµ
- `mldsa_public.bin` - ML-DSA κ³µκ°ν‚¤
- `mldsa_secret.bin` - ML-DSA κ°μΈν‚¤

### RSA νμΌ μ•”νΈν™” μ‹¤μµ
- `rsa_file_private.pem` - RSA κ°μΈν‚¤
- `rsa_file_public.pem` - RSA κ³µκ°ν‚¤
- `sample.txt` - ν…μ¤νΈμ© μ›λ³Έ νμΌ
- `sample.txt.enc` - μ•”νΈν™”λ νμΌ
- `sample_decrypted.txt` - λ³µνΈν™”λ νμΌ

**μ°Έκ³ **: λ¨λ“  νμΌμ€ exercise λ””λ ‰ν† λ¦¬ λ‚΄μ— μƒμ„±λ©λ‹λ‹¤.

## β οΈ μ£Όμμ‚¬ν•­

1. **κµμ΅ λ©μ **: μ΄ μ‹¤μµλ“¤μ€ κµμ΅ λ©μ μΌλ΅λ§ μ‚¬μ©ν•μ„Έμ”.
2. **ν‚¤ λ³΄μ•**: μƒμ„±λ κ°μΈν‚¤ νμΌμ€ μ•μ „ν•κ² κ΄€λ¦¬ν•μ„Έμ”.
3. **μ‹¤μ  ν™κ²½**: μ‹¤μ  ν”„λ΅λ•μ… ν™κ²½μ—μ„λ” λ” κ°•λ ¥ν• ν‚¤ κ΄€λ¦¬μ™€ λ³΄μ• μ΅°μΉκ°€ ν•„μ”ν•©λ‹λ‹¤.
4. **ML-DSA λΌμ΄λΈλ¬λ¦¬**: ML-DSA μ‹¤μµμ€ μƒμ„ λ””λ ‰ν† λ¦¬μ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ°Έμ΅°ν•©λ‹λ‹¤.

## π§ ν…μ¤νΈ μ‹λ‚λ¦¬μ¤

κ° μ‹¤μµ νμΌμ€ λ‹¤μκ³Ό κ°™μ€ ν…μ¤νΈλ¥Ό ν¬ν•¨ν•©λ‹λ‹¤:

1. **μ •μƒ μ„λ…/μ•”νΈν™” κ²€μ¦** - λ¨λ“  κ²ƒμ΄ μ¬λ°”λ¥΄κ² μ‘λ™ν•λ” κ²½μ°
2. **λ©”μ‹μ§€ λ³€μ΅° κ²€μ¦** - λ©”μ‹μ§€κ°€ λ³€μ΅°λ κ²½μ° (κ²€μ¦ μ‹¤ν¨ μμƒ)
3. **μ„λ… λ³€μ΅° κ²€μ¦** - μ„λ…μ΄ λ³€μ΅°λ κ²½μ° (κ²€μ¦ μ‹¤ν¨ μμƒ)

μ΄λ¥Ό ν†µν•΄ λ””μ§€ν„Έ μ„λ…μ λ¬΄κ²°μ„± λ³΄μ¥ νΉμ„±μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

## π“ μ°Έκ³  μλ£

- [Cryptography library documentation](https://cryptography.io/)
- [NIST FIPS 204: ML-DSA](https://csrc.nist.gov/pubs/fips/204/final)
- [RSA PSS Signature](https://cryptography.io/en/latest/hazmat/primitives/asymmetric/rsa/)
